<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>검측요청서</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar no-print">
    <div class="brand">
      <div class="title">검측요청서 생성기</div>
      <div class="subtitle">GitHub Pages · 입력 → 미리보기 → PDF 저장</div>
    </div>
    <div class="actions">
      <button id="btnNewNo" class="btn">번호 새로 발급</button>
      <button id="btnResetCounter" class="btn btn-ghost" title="일련번호를 1부터 다시 시작">일련번호 초기화</button>
      <button id="btnPrint" class="btn btn-primary">PDF 저장(인쇄)</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card no-print">
      <h2>입력</h2>
      <div class="grid">
        <label class="field">
          <span>번호(자동)</span>
          <input id="reqNo" type="text" readonly />
          <small>IR-YYYYMMDD-XXX (날짜별 자동 증가)</small>
        </label>

        <label class="field">
          <span>일시(요청일자)</span>
          <input id="reqDate" type="date" />
        </label>

        <label class="field">
          <span>공종</span>
          <input id="trade" type="text" placeholder="예: 철근콘크리트공사" />
        </label>

        <label class="field">
          <span>동</span>
          <input id="building" type="text" placeholder="예: 302" />
          <small>숫자만 입력 (표시는 '302동')</small>
        </label>

        <label class="field">
          <span>층</span>
          <input id="floor" type="text" placeholder="예: 1" />
          <small>숫자만 입력 (표시는 '1층')</small>
        </label>

        <label class="field">
          <span>호</span>
          <input id="unit" type="text" placeholder="예: 13" />
          <small>숫자만 입력 (표시는 '13호')</small>
        </label>

        <label class="field">
          <span>받음(총괄감리원)</span>
          <input id="receiver" type="text" placeholder="예: 총괄감리원" />
        </label>

        <label class="field">
          <span>현장대리인(시공사)</span>
          <input id="siteRep" type="text" placeholder="예: 유종현" />
        </label>

        <label class="field">
          <span>검측부위</span>
          <input id="part" type="text" placeholder="예: 바닥 먹매김" />
        </label>

        <label class="field field-wide">
          <span>검측사항</span>
          <textarea id="inspectItem" rows="3" placeholder="예: 1층 바닥 먹매김 검측"></textarea>
        </label>

        <label class="field field-wide">
          <span>비고</span>
          <textarea id="remarks" rows="2" placeholder="예: 시공자의 검측 체크리스트, 시공자의 도면, 공사 참여자 실명부"></textarea>
        </label>

        <label class="field">
          <span>검측자(결과통보)</span>
          <input id="inspectorName" type="text" placeholder="예: 최종식" />
        </label>

        <label class="field">
          <span>검측일시(결과통보)</span>
          <input id="inspectDate" type="date" />
        </label>

        <label class="field field-wide">
          <span>검측결과(결과통보)</span>
          <textarea id="inspectResult" rows="3" placeholder="예: 적합 / 시정 후 재검측 등"></textarea>
        </label>

        <label class="field">
          <span>총괄감리원(결과통보)</span>
          <input id="chiefInspector" type="text" placeholder="예: 한만종" />
        </label>
      </div>

      <div class="hint">
        입력하면 오른쪽 문서가 자동 반영돼. PDF는 <b>PDF 저장(인쇄)</b> 버튼을 눌러 <b>대상: PDF로 저장</b>을 선택하면 돼.
      </div>
    </section>

    <section class="paper" id="paper">
      <div class="doc-title">검 측 요 청 서</div>

      <div class="meta-row">
        <div class="meta-left">
          <div class="bullet-line"><span class="sq">■</span><span class="lbl">번호 :</span> <span data-bind="metaNo"></span></div>
          <div class="bullet-line"><span class="sq">■</span><span class="lbl">받음 :</span> <span data-bind="receiver"></span></div>
        </div>
        <div class="meta-right">
          <div class="bullet-line"><span class="sq">■</span><span class="lbl">일 시 :</span> <span data-bind="reqDateFmtKr"></span></div>
        </div>
      </div>

      <table class="form-table">
        <tbody>
          <tr>
            <th>위치 및 공종</th>
            <td data-bind="locationTrade"></td>
          </tr>
          <tr>
            <th>검 측 부 위</th>
            <td data-bind="inspectPartLine"></td>
          </tr>
          <tr>
            <th>검측요구일시</th>
            <td data-bind="reqDateFmtKr"></td>
          </tr>
          <tr>
            <th>검 측 사 항</th>
            <td class="multiline" data-bind="inspectItem"></td>
          </tr>
        </tbody>
      </table>

      <div class="note">
        ※ 붙임 : <span data-bind="remarks"></span>
      </div>

      <div class="signline">
        <div class="org">
          <div data-bind="orgName"></div>
          <div>현장대리인 : <span class="sig" data-bind="siteRep"></span> (인)</div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="doc-title">검 측 요 청 결 과 통 보</div>

      <div class="meta-row">
        <div class="meta-left">
          <div class="bullet-line"><span class="sq">■</span><span class="lbl">번호 :</span> <span data-bind="metaNo2"></span></div>
          <div class="bullet-line"><span class="sq">■</span><span class="lbl">받음 :</span> <span data-bind="siteRepLabel"></span></div>
          <div class="bullet-line small">
            문서번호 : <span data-bind="docNoLine"></span>
          </div>
        </div>
        <div class="meta-right">
          <div class="bullet-line"><span class="sq">■</span><span class="lbl">일 시 :</span> <span data-bind="inspectDateFmtKr"></span></div>
        </div>
      </div>

      <table class="result-table">
        <tbody>
          <tr>
            <th style="width:18%">검 측 자</th>
            <td style="width:32%" data-bind="inspectorName"></td>
            <th style="width:8%">(인)</th>
            <td style="width:18%">검측일시</td>
            <td style="width:24%" data-bind="inspectDateFmtKr"></td>
          </tr>
          <tr>
            <th>검 측 결 과</th>
            <td colspan="4" class="multiline" data-bind="inspectResult"></td>
          </tr>
        </tbody>
      </table>

      <div class="note">
        ※ 붙임 : 감리원의 CHECK LIST 검측 결과
      </div>

      <div class="signline">
        <div class="org">
          <div data-bind="orgName"></div>
          <div>총괄감리원 : <span class="sig" data-bind="chiefInspector"></span> (인)</div>
        </div>
      </div>

      <div class="footnote">
        ※ 재검측시에는 붉은 글씨로(재) 를 우측 상단에 작성합니다.<br/>
        ※ 2부 작성하여 시공자, 감리자 각 1부씩 보관.
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
